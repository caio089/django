<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quiz - Teoria do Jud√¥</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            judo: {
              emerald: '#10B981',
              gray: '#6B7280',
              blue: '#3B82F6',
              yellow: '#FBBF24',
              orange: '#F97316',
              green: '#10B981',
              purple: '#8B5CF6',
              brown: '#92400E'
            }
          },
          fontFamily: {
            'display': ['Inter', 'system-ui', 'sans-serif'],
          }
        }
      }
    }
  </script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
    
    .gradient-bg {
      background: linear-gradient(135deg, #1E40AF 0%, #1D4ED8 100%);
    }
    
    .card-hover {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .card-hover:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 40px -12px rgba(30,64,175,0.25);
    }
    
    .fade-in {
      animation: fadeIn 0.6s ease-out;
    }
    
    @keyframes fadeIn {
      from { 
        opacity: 0; 
        transform: translateY(20px); 
      }
      to { 
        opacity: 1; 
        transform: translateY(0); 
      }
    }
    
    .slide-in {
      animation: slideIn 0.5s ease-out;
    }
    
    @keyframes slideIn {
      from { 
        opacity: 0; 
        transform: translateX(-30px); 
      }
      to { 
        opacity: 1; 
        transform: translateX(0); 
      }
    }
    
    .bounce-in {
      animation: bounceIn 0.8s ease-out;
    }
    
    @keyframes bounceIn {
      0% { 
        opacity: 0; 
        transform: scale(0.3); 
      }
      50% { 
        opacity: 1; 
        transform: scale(1.05); 
      }
      70% { 
        transform: scale(0.9); 
      }
      100% { 
        opacity: 1; 
        transform: scale(1); 
      }
    }
    
    .progress-bar {
      transition: width 0.8s ease-in-out;
    }
    
    .answer-btn {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .answer-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px -5px rgba(30,64,175,0.2);
    }
    
    .correct-answer {
      animation: correctPulse 0.6s ease-out;
    }
    
    @keyframes correctPulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    .incorrect-answer {
      animation: incorrectShake 0.6s ease-out;
    }
    
    @keyframes incorrectShake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }
    
    .text-gradient {
      background: linear-gradient(45deg, #1E40AF, #1D4ED8);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .section-divider {
      background: linear-gradient(90deg, transparent, #DBEAFE, transparent);
    }
    
    /* Melhorias de responsividade para mobile */
    @media (max-width: 640px) {
      .answer-btn {
        padding: 0.75rem 1rem;
        font-size: 0.875rem;
      }
      
      .card-hover {
        padding: 1rem;
      }
      
      .card-hover h2 {
        font-size: 1.25rem;
        line-height: 1.4;
      }
    }
    
    /* Estilos para feedback visual */
    .answer-correct {
      background-color: #10B981 !important;
      color: white !important;
      border-color: #10B981 !important;
      animation: correctPulse 0.6s ease-out;
    }
    
    .answer-incorrect {
      background-color: #EF4444 !important;
      color: white !important;
      border-color: #EF4444 !important;
      animation: incorrectShake 0.6s ease-out;
    }
    
    .answer-show-correct {
      background-color: #10B981 !important;
      color: white !important;
      border-color: #10B981 !important;
    }
    
    @keyframes correctPulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    @keyframes incorrectShake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }
  </style>
</head>
<body class="bg-gray-50 font-display min-h-screen">
  <!-- Header com Progresso responsivo -->
  <header class="gradient-bg text-white py-4 sm:py-6 px-4">
    <div class="max-w-4xl mx-auto">
      <div class="flex items-center justify-between mb-4 sm:mb-6">
        <div class="flex-1">
          <h1 class="text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold mb-1 sm:mb-2 flex items-center gap-2 sm:gap-3">
            <i class="fa-solid fa-medal text-blue-300 text-lg sm:text-xl md:text-2xl"></i>
            <span class="text-white">Quiz - Teoria do Jud√¥</span>
          </h1>
          <p class="text-blue-100 text-sm sm:text-base md:text-lg">Teste seus conhecimentos sobre a arte suave</p>
        </div>
        <a href="/index/" class="bg-white/20 hover:bg-white/30 px-3 py-2 sm:px-4 sm:py-2 rounded-lg transition-colors text-sm sm:text-base ml-2">
          <i class="fa-solid fa-arrow-left mr-1 sm:mr-2"></i>
          <span class="hidden sm:inline">Voltar</span>
        </a>
      </div>
      
      <!-- Barra de Progresso responsiva -->
      <div class="bg-white/20 rounded-full h-3 sm:h-4 mb-2 sm:mb-3 shadow-inner">
        <div class="progress-bar bg-gradient-to-r from-green-400 to-green-600 rounded-full h-3 sm:h-4 shadow-lg" 
             style="width: 0%" id="progressBar"></div>
      </div>
      
      <!-- Status responsivo -->
      <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-0">
        <div class="flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-6">
          <span id="status" class="text-sm sm:text-base md:text-lg font-semibold">
            <i class="fa-solid fa-question-circle mr-1 sm:mr-2"></i>Pergunta 0/0
          </span>
          <span id="score" class="text-sm sm:text-base md:text-lg font-semibold text-blue-200">
            <i class="fa-solid fa-trophy mr-1 sm:mr-2"></i>Acertos: 0
          </span>
        </div>
      </div>
    </div>
  </header>

  <main class="max-w-4xl mx-auto px-4 py-4 sm:py-6 md:py-8">
    <!-- Quiz Container -->
    <div id="quiz-container" class="space-y-6"></div>

    <!-- Finaliza√ß√£o responsiva -->
    <div id="result" class="hidden text-center mt-8 sm:mt-12 fade-in">
      <div class="bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-4 sm:p-6 md:p-8 border border-blue-200">
        <div class="mb-4 sm:mb-6">
          <div class="text-4xl sm:text-5xl md:text-6xl mb-3 sm:mb-4">üéâ</div>
          <h2 class="text-2xl sm:text-3xl font-bold text-gradient mb-2">Quiz Finalizado!</h2>
          <p class="text-gray-600 text-sm sm:text-base">Parab√©ns por completar o teste de teoria do jud√¥!</p>
        </div>
        
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-6 sm:mb-8">
          <div class="bg-blue-50 rounded-xl p-3 sm:p-4">
            <div class="text-xl sm:text-2xl font-bold text-blue-600" id="final-score">0/0</div>
            <div class="text-xs sm:text-sm text-blue-700">Acertos</div>
          </div>
          <div class="bg-purple-50 rounded-xl p-3 sm:p-4">
            <div class="text-xl sm:text-2xl font-bold text-purple-600" id="final-percentage">0%</div>
            <div class="text-xs sm:text-sm text-purple-700">Percentual</div>
          </div>
        </div>
        
        <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center">
          <button onclick="restartQuiz()" 
                  class="bg-gradient-to-r from-blue-600 to-blue-500 text-white px-6 sm:px-8 py-2 sm:py-3 rounded-xl hover:from-blue-700 hover:to-blue-600 transition-all duration-300 font-semibold flex items-center justify-center gap-2 text-sm sm:text-base">
            <i class="fa-solid fa-redo"></i>
            Reiniciar Quiz
          </button>
          <a href="/index/" 
             class="bg-gray-100 text-gray-700 px-6 sm:px-8 py-2 sm:py-3 rounded-xl hover:bg-gray-200 transition-all duration-300 font-semibold flex items-center justify-center gap-2 text-sm sm:text-base">
            <i class="fa-solid fa-home"></i>
            Voltar ao In√≠cio
          </a>
        </div>
      </div>
    </div>
  </main>

  <script>
    // Array original de perguntas
    const originalQuestions = [
      {
        question: "Quem criou o jud√¥?",
        answers: ["Jigoro Kano", "Mitsuyo Maeda", "Kyuzo Mifune", "Masahiko Kimura"],
        correct: 0,
        explanation: "Jigoro Kano criou o jud√¥ em 1882, fundando o Instituto Kodokan em T√≥quio."
      },
      {
        question: "Qual √© o significado da palavra 'judo'?",
        answers: ["Caminho da for√ßa", "Arte da guerra", "Caminho suave", "Arte marcial"],
        correct: 2,
        explanation: "'Ju' significa suave e 'do' significa caminho, formando 'caminho suave'."
      },
      {
        question: "Qual √© o princ√≠pio fundamental do jud√¥?",
        answers: ["M√°xima efici√™ncia com m√≠nimo esfor√ßo", "For√ßa bruta", "Velocidade m√°xima", "T√©cnica perfeita"],
        correct: 0,
        explanation: "O princ√≠pio fundamental √© 'Seiryoku Zenyo' - m√°xima efici√™ncia com m√≠nimo esfor√ßo."
      },
      {
        question: "Qual √© a cor da faixa mais alta no jud√¥?",
        answers: ["Vermelha", "Preta", "Branca", "Dourada"],
        correct: 0,
        explanation: "A faixa vermelha √© a mais alta, seguida da branca e vermelha, e depois da branca."
      },
      {
        question: "O que significa 'Rei' no jud√¥?",
        answers: ["Respeito", "For√ßa", "T√©cnica", "Vit√≥ria"],
        correct: 0,
        explanation: "'Rei' significa respeito e √© fundamental na etiqueta do jud√¥."
      },
      {
        question: "Qual √© o nome do local onde se pratica jud√¥?",
        answers: ["Dojo", "Tatame", "Academia", "Gin√°sio"],
        correct: 0,
        explanation: "Dojo √© o local sagrado onde se pratica jud√¥ e outras artes marciais."
      },
      {
        question: "Qual √© a t√©cnica mais b√°sica do jud√¥?",
        answers: ["Uke-goshi", "Seoi-nage", "O-goshi", "Tai-otoshi"],
        correct: 2,
        explanation: "O-goshi (grande quadril) √© considerada uma das t√©cnicas mais fundamentais."
      },
      {
        question: "O que significa 'Ukemi' no jud√¥?",
        answers: ["T√©cnica de proje√ß√£o", "T√©cnica de imobiliza√ß√£o", "T√©cnica de queda", "T√©cnica de estrangulamento"],
        correct: 2,
        explanation: "Ukemi s√£o as t√©cnicas de queda que protegem o praticante durante as proje√ß√µes."
      },
      {
        question: "Qual √© o objetivo principal do jud√¥?",
        answers: ["Derrotar o oponente", "Desenvolver corpo e mente", "Ganhar competi√ß√µes", "Aprender autodefesa"],
        correct: 1,
        explanation: "O jud√¥ visa o desenvolvimento f√≠sico, mental e moral atrav√©s da pr√°tica."
      },
      {
        question: "Qual √© o nome do uniforme usado no jud√¥?",
        answers: ["Kimono", "Gi", "Judogi", "Hakama"],
        correct: 2,
        explanation: "Judogi √© o nome correto do uniforme usado no jud√¥."
      },
      {
        question: "Quantas faixas coloridas existem antes da faixa preta no jud√¥?",
        answers: ["4", "5", "6", "7"],
        correct: 2,
        explanation: "Existem 6 faixas coloridas: branca, amarela, laranja, verde, azul e marrom."
      },
      {
        question: "Qual √© a idade m√≠nima para obter a faixa preta no jud√¥?",
        answers: ["14 anos", "16 anos", "18 anos", "N√£o h√° idade m√≠nima"],
        correct: 1,
        explanation: "A idade m√≠nima para obter a faixa preta (1¬∫ dan) √© 16 anos."
      },
      {
        question: "O que significa 'Kata' no jud√¥?",
        answers: ["Luta livre", "Forma ou padr√£o", "Competi√ß√£o", "Treino f√≠sico"],
        correct: 1,
        explanation: "Kata s√£o sequ√™ncias formais de t√©cnicas executadas em padr√µes espec√≠ficos."
      },
      {
        question: "Qual √© o nome da t√©cnica de estrangulamento mais conhecida?",
        answers: ["Hadaka-jime", "Okuri-eri-jime", "Kata-juji-jime", "Sankaku-jime"],
        correct: 0,
        explanation: "Hadaka-jime (estrangulamento nu) √© uma das t√©cnicas de estrangulamento mais fundamentais."
      },
      {
        question: "Em que ano o jud√¥ se tornou esporte ol√≠mpico?",
        answers: ["1964", "1972", "1980", "1988"],
        correct: 0,
        explanation: "O jud√¥ se tornou esporte ol√≠mpico em 1964, nos Jogos de T√≥quio."
      },
      {
        question: "Qual √© o nome da t√©cnica de imobiliza√ß√£o mais b√°sica?",
        answers: ["Kesa-gatame", "Kami-shiho-gatame", "Yoko-shiho-gatame", "Tate-shiho-gatame"],
        correct: 0,
        explanation: "Kesa-gatame (imobiliza√ß√£o em diagonal) √© considerada a mais b√°sica das imobiliza√ß√µes."
      },
      {
        question: "O que significa 'Randori' no jud√¥?",
        answers: ["Treino livre", "Competi√ß√£o", "Kata", "Aquecimento"],
        correct: 0,
        explanation: "Randori √© o treino livre onde os praticantes aplicam t√©cnicas sem resist√™ncia excessiva."
      },
      {
        question: "Qual √© a dura√ß√£o de uma luta de jud√¥ em competi√ß√£o?",
        answers: ["3 minutos", "4 minutos", "5 minutos", "6 minutos"],
        correct: 2,
        explanation: "Uma luta de jud√¥ em competi√ß√£o dura 5 minutos para adultos."
      },
      {
        question: "O que significa 'Ippon' no jud√¥?",
        answers: ["Ponto completo", "Ponto parcial", "Penalidade", "Empate"],
        correct: 0,
        explanation: "Ippon √© o ponto completo que encerra imediatamente a luta."
      },
      {
        question: "Qual √© o nome da t√©cnica de proje√ß√£o com quadril?",
        answers: ["Seoi-nage", "Tai-otoshi", "Uke-goshi", "O-soto-gari"],
        correct: 2,
        explanation: "Uke-goshi √© uma t√©cnica de proje√ß√£o que utiliza o quadril como ponto de apoio."
      },
      {
        question: "O que significa 'Waza-ari' no jud√¥?",
        answers: ["Ponto completo", "Ponto parcial", "Penalidade", "Aviso"],
        correct: 1,
        explanation: "Waza-ari √© um ponto parcial, dois waza-ari equivalem a um ippon."
      },
      {
        question: "Qual √© o nome da t√©cnica de proje√ß√£o com perna?",
        answers: ["O-goshi", "Seoi-nage", "O-soto-gari", "Tai-otoshi"],
        correct: 2,
        explanation: "O-soto-gari √© uma t√©cnica de proje√ß√£o que utiliza a perna para derrubar o oponente."
      },
      {
        question: "O que significa 'Shido' no jud√¥?",
        answers: ["Ponto", "Penalidade leve", "Penalidade grave", "Desqualifica√ß√£o"],
        correct: 1,
        explanation: "Shido √© uma penalidade leve por infra√ß√µes menores durante a luta."
      },
      {
        question: "Qual √© o nome da t√©cnica de proje√ß√£o com ombro?",
        answers: ["O-goshi", "Seoi-nage", "Uke-goshi", "Tai-otoshi"],
        correct: 1,
        explanation: "Seoi-nage √© uma t√©cnica de proje√ß√£o que utiliza o ombro como ponto de apoio."
      },
      {
        question: "O que significa 'Hansoku-make' no jud√¥?",
        answers: ["Ponto completo", "Penalidade leve", "Penalidade grave", "Desqualifica√ß√£o"],
        correct: 3,
        explanation: "Hansoku-make √© a desqualifica√ß√£o por infra√ß√µes graves ou acumula√ß√£o de penalidades."
      },
      {
        question: "Qual √© o nome da t√©cnica de proje√ß√£o com corpo?",
        answers: ["O-goshi", "Seoi-nage", "Tai-otoshi", "Uke-goshi"],
        correct: 2,
        explanation: "Tai-otoshi √© uma t√©cnica de proje√ß√£o que utiliza o corpo como alavanca."
      },
      {
        question: "O que significa 'Osae-komi' no jud√¥?",
        answers: ["Imobiliza√ß√£o", "Proje√ß√£o", "Estrangulamento", "Chave de bra√ßo"],
        correct: 0,
        explanation: "Osae-komi √© o an√∫ncio de que uma imobiliza√ß√£o est√° sendo aplicada."
      },
      {
        question: "Qual √© o nome da t√©cnica de estrangulamento com gola?",
        answers: ["Hadaka-jime", "Okuri-eri-jime", "Kata-juji-jime", "Sankaku-jime"],
        correct: 1,
        explanation: "Okuri-eri-jime √© uma t√©cnica de estrangulamento que utiliza a gola do judogi."
      },
      {
        question: "O que significa 'Toketa' no jud√¥?",
        answers: ["Imobiliza√ß√£o", "Imobiliza√ß√£o quebrada", "Proje√ß√£o", "Estrangulamento"],
        correct: 1,
        explanation: "Toketa √© o an√∫ncio de que uma imobiliza√ß√£o foi quebrada pelo oponente."
      },
      {
        question: "Qual √© o nome da t√©cnica de proje√ß√£o com sacrif√≠cio?",
        answers: ["Tomoe-nage", "Seoi-nage", "O-goshi", "Tai-otoshi"],
        correct: 0,
        explanation: "Tomoe-nage √© uma t√©cnica de proje√ß√£o com sacrif√≠cio onde o atacante se joga ao ch√£o."
      },
      {
        question: "O que significa 'Sonomama' no jud√¥?",
        answers: ["Continue", "Pare", "Lute", "Descanso"],
        correct: 1,
        explanation: "Sonomama √© o comando para parar a luta e manter a posi√ß√£o atual."
      },
      {
        question: "Qual √© o nome da t√©cnica de estrangulamento com tri√¢ngulo?",
        answers: ["Hadaka-jime", "Okuri-eri-jime", "Kata-juji-jime", "Sankaku-jime"],
        correct: 3,
        explanation: "Sankaku-jime √© uma t√©cnica de estrangulamento que utiliza as pernas em formato de tri√¢ngulo."
      },
      {
        question: "O que significa 'Yoshi' no jud√¥?",
        answers: ["Pare", "Continue", "Lute", "Descanso"],
        correct: 1,
        explanation: "Yoshi √© o comando para continuar a luta ap√≥s uma pausa."
      },
      {
        question: "Qual √© o nome da t√©cnica de proje√ß√£o com joelho?",
        answers: ["Hiza-guruma", "Seoi-nage", "O-goshi", "Tai-otoshi"],
        correct: 0,
        explanation: "Hiza-guruma √© uma t√©cnica de proje√ß√£o que utiliza o joelho como ponto de apoio."
      },
      {
        question: "O que significa 'Mate' no jud√¥?",
        answers: ["Continue", "Pare", "Lute", "Descanso"],
        correct: 1,
        explanation: "Mate √© o comando para parar a luta temporariamente."
      },
      {
        question: "Qual √© o nome da t√©cnica de estrangulamento com cruz?",
        answers: ["Hadaka-jime", "Okuri-eri-jime", "Kata-juji-jime", "Sankaku-jime"],
        correct: 2,
        explanation: "Kata-juji-jime √© uma t√©cnica de estrangulamento que utiliza os bra√ßos em formato de cruz."
      },
      {
        question: "O que significa 'Hajime' no jud√¥?",
        answers: ["Pare", "Continue", "Comece", "Descanso"],
        correct: 2,
        explanation: "Hajime √© o comando para come√ßar a luta."
      },
      {
        question: "Qual √© o nome da t√©cnica de proje√ß√£o com tornozelo?",
        answers: ["Ashi-guruma", "Seoi-nage", "O-goshi", "Tai-otoshi"],
        correct: 0,
        explanation: "Ashi-guruma √© uma t√©cnica de proje√ß√£o que utiliza o tornozelo como ponto de apoio."
      },
      {
        question: "O que significa 'Sore-made' no jud√¥?",
        answers: ["Continue", "Pare", "Lute", "Fim da luta"],
        correct: 3,
        explanation: "Sore-made √© o comando que indica o fim da luta."
      }
    ];

    // Fun√ß√£o para randomizar array (Fisher-Yates shuffle)
    function shuffleArray(array) {
      const shuffled = [...array];
      for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
      }
      return shuffled;
    }
    
    // Fun√ß√£o para randomizar perguntas e alternativas
    function randomizeQuiz() {
      // Randomizar ordem das perguntas
      questions = shuffleArray(originalQuestions);
      
      // Para cada pergunta, randomizar as alternativas
      questions.forEach((question, questionIndex) => {
        const originalAnswers = [...question.answers];
        const correctAnswer = originalAnswers[question.correct];
        
        // Randomizar as alternativas
        const shuffledAnswers = shuffleArray(originalAnswers);
        
        // Encontrar a nova posi√ß√£o da resposta correta
        const newCorrectIndex = shuffledAnswers.indexOf(correctAnswer);
        
        // Atualizar a pergunta
        questions[questionIndex] = {
          ...question,
          answers: shuffledAnswers,
          correct: newCorrectIndex
        };
      });
    }
    
    let currentQuestion = 0;
    let score = 0;
    let answered = false;

    const quizContainer = document.getElementById("quiz-container");
    const statusElement = document.getElementById("status");
    const scoreElement = document.getElementById("score");
    const progressBar = document.getElementById("progressBar");
    const resultElement = document.getElementById("result");
    const finalScoreElement = document.getElementById("final-score");
    const finalPercentageElement = document.getElementById("final-percentage");

    function updateStatus() {
      statusElement.innerHTML = `<i class="fa-solid fa-question-circle mr-2"></i>Pergunta ${currentQuestion + 1}/${questions.length}`;
      scoreElement.innerHTML = `<i class="fa-solid fa-trophy mr-2"></i>Acertos: ${score}`;
      
      // Calcular progresso baseado na pergunta atual (come√ßando em 0%)
      const progress = (currentQuestion / questions.length) * 100;
      progressBar.style.width = `${progress}%`;
    }

    function createQuestionCard() {
      const q = questions[currentQuestion];
      
      const card = document.createElement("div");
      card.className = "bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-4 sm:p-6 md:p-8 border border-blue-200 fade-in";
      card.style.maxWidth = "800px";
      card.style.margin = "0 auto";

      const questionHeader = document.createElement("div");
      questionHeader.className = "text-center mb-6 sm:mb-8";
      
      const questionNumber = document.createElement("div");
      questionNumber.className = "text-xs sm:text-sm text-blue-600 font-semibold mb-2";
      questionNumber.textContent = `Pergunta ${currentQuestion + 1} de ${questions.length}`;
      
      const questionText = document.createElement("h2");
      questionText.className = "text-lg sm:text-xl md:text-2xl font-bold text-gray-800 mb-3 sm:mb-4";
      questionText.textContent = q.question;
      
      questionHeader.appendChild(questionNumber);
      questionHeader.appendChild(questionText);
      card.appendChild(questionHeader);

      const answersDiv = document.createElement("div");
      answersDiv.className = "grid gap-3 sm:gap-4";

      q.answers.forEach((answer, index) => {
        const btn = document.createElement("button");
        btn.textContent = answer;
        btn.className = "answer-btn bg-gray-50 text-gray-800 py-3 sm:py-4 px-4 sm:px-6 rounded-xl border-2 border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all duration-300 text-left font-medium text-sm sm:text-base";
        btn.onclick = () => handleAnswer(index, btn, answersDiv);
        answersDiv.appendChild(btn);
      });

      card.appendChild(answersDiv);
      
      // Adicionar explica√ß√£o (inicialmente oculta)
      const explanationDiv = document.createElement("div");
      explanationDiv.className = "mt-4 sm:mt-6 p-3 sm:p-4 bg-blue-50 rounded-xl border border-blue-200 hidden";
      explanationDiv.id = "explanation";
      
      const explanationTitle = document.createElement("div");
      explanationTitle.className = "font-semibold text-blue-800 mb-2 text-sm sm:text-base";
      explanationTitle.innerHTML = '<i class="fa-solid fa-lightbulb mr-1 sm:mr-2"></i>Explica√ß√£o:';
      
      const explanationText = document.createElement("p");
      explanationText.className = "text-blue-700 text-xs sm:text-sm";
      explanationText.textContent = q.explanation;
      
      explanationDiv.appendChild(explanationTitle);
      explanationDiv.appendChild(explanationText);
      card.appendChild(explanationDiv);

      // Bot√£o "Pr√≥xima Pergunta" (inicialmente oculto)
      const nextButtonDiv = document.createElement("div");
      nextButtonDiv.className = "mt-6 text-center hidden";
      nextButtonDiv.id = "next-button-container";
      
      const nextButton = document.createElement("button");
      nextButton.className = "bg-gradient-to-r from-blue-600 to-blue-500 text-white px-8 py-3 rounded-xl hover:from-blue-700 hover:to-blue-600 transition-all duration-300 font-semibold flex items-center justify-center gap-2 mx-auto";
      nextButton.innerHTML = '<i class="fa-solid fa-arrow-right mr-2"></i>Pr√≥xima Pergunta';
      nextButton.onclick = () => nextQuestion();
      
      nextButtonDiv.appendChild(nextButton);
      card.appendChild(nextButtonDiv);

      quizContainer.appendChild(card);
    }

    function handleAnswer(selectedIndex, btn, answersDiv) {
      if (answered) return; // Evitar m√∫ltiplos cliques
      
      const correctIndex = questions[currentQuestion].correct;
      const buttons = answersDiv.querySelectorAll("button");
      const explanation = document.getElementById("explanation");

      // Desabilitar todos os bot√µes
      buttons.forEach(b => b.disabled = true);

      if (selectedIndex === correctIndex) {
        // Resposta correta - mostrar verde
        btn.classList.add("answer-correct");
        score++;
        
        // Mostrar explica√ß√£o
        if (explanation) {
          setTimeout(() => {
            explanation.classList.remove("hidden");
            explanation.classList.add("slide-in");
          }, 500);
        }
        
        // Avan√ßar automaticamente para pr√≥xima pergunta ap√≥s 2 segundos
        setTimeout(() => {
          nextQuestion();
        }, 2000);
        
      } else {
        // Resposta incorreta - mostrar vermelho na resposta errada e verde na correta
        btn.classList.add("answer-incorrect");
        buttons[correctIndex].classList.add("answer-show-correct");
        
        // Mostrar explica√ß√£o
        if (explanation) {
          setTimeout(() => {
            explanation.classList.remove("hidden");
            explanation.classList.add("slide-in");
          }, 500);
        }
        
        // Avan√ßar automaticamente para pr√≥xima pergunta ap√≥s 3 segundos
        setTimeout(() => {
          nextQuestion();
        }, 3000);
      }

      answered = true;
      updateStatus();
    }

    function nextQuestion() {
      currentQuestion++;
      answered = false;
      
      if (currentQuestion < questions.length) {
        quizContainer.innerHTML = "";
        createQuestionCard();
      } else {
        showResult();
      }
    }

    function showResult() {
      const percentage = Math.round((score / questions.length) * 100);
      
      finalScoreElement.textContent = `${score}/${questions.length}`;
      finalPercentageElement.textContent = `${percentage}%`;
      
      resultElement.classList.remove("hidden");
      resultElement.classList.add("bounce-in");
      
      // Scroll para o resultado
      resultElement.scrollIntoView({ behavior: 'smooth' });
    }

    function restartQuiz() {
      currentQuestion = 0;
      score = 0;
      answered = false;
      quizContainer.innerHTML = "";
      resultElement.classList.add("hidden");
      
      // Randomizar novamente o quiz
      randomizeQuiz();
      
      updateStatus();
      createQuestionCard();
    }

    function initQuiz() {
      // Randomizar o quiz na inicializa√ß√£o
      randomizeQuiz();
      updateStatus();
      createQuestionCard();
    }

    // Inicializar quiz quando a p√°gina carregar
    document.addEventListener('DOMContentLoaded', initQuiz);
  </script>
</body>
</html>
